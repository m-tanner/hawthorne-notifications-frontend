# hawthornestereo.news

## Features

- Sign up or log in without any passwords.
- Edit user profile information through a simple form.
- Manage state using React hooks.
- Environment variables support for API URL and keys.
- Dockerized for easy deployment.

## Prerequisites

- [Node.js](https://nodejs.org/) (version 14 or higher)
- [Docker](https://www.docker.com/get-started)

## Getting Started

### Clone the Repository

```bash
git clone https://github.com/m-tanner/hawthorne-notifications-frontend.git
cd hawthorne-notifications-frontend
```

### Install Dependencies

```bash
brew install node
```

```bash
npm install -g npm
```

```bash
nvm install --lts
```

```bash
npm install -g create-react-app
npm install -g yarn
```

```bash
npm install
```

### Run the App Locally

You can run the app locally for development using the following command:

```bash
npm start
```

This will start the development server, and you can view the app by navigating to `http://localhost:3000` in your web browser.

### Environment Variables

Create a `.env` file in the root directory to define your environment variables:

```plaintext
REACT_APP_API_URL=https://api.example.com
REACT_APP_API_KEY=your-api-key
```

These environment variables are used within the React app to configure API requests.

### Build the App

To build the app for production:

```bash
npm run build
```

This will create a `build` directory containing the production-ready files.

## Dockerization

This application is Dockerized for easy deployment. The Docker setup includes an NGINX server to serve the static files generated by the React build process.

### Build the Docker Image

To build the Docker image to run locally:

```bash
docker build --build-arg REACT_APP_FRONTEND_BASE_URL=http://localhost:3000 --platform linux/amd64 -t hawthorne-notifications-frontend:latest .
```


To build the Docker image to deploy to production:

```bash
docker build --build-arg REACT_APP_FRONTEND_BASE_URL=https://hawthorne-notifications-frontend-sdo7vkuv7q-uw.a.run.app --platform linux/amd64 -t hawthorne-notifications-frontend:latest .
```

```bash
docker build --build-arg REACT_APP_FRONTEND_BASE_URL=https://hawthornestereo.news --platform linux/amd64 -t hawthorne-notifications-frontend:latest .
```

### Run the Docker Container

Run the Docker container:

```bash
docker run -p 80:3000 -e REACT_APP_BACKEND_BASE_URL=http://localhost:8080 hawthorne-notifications-frontend
```

This command maps port 80 of the Docker container to port 80 on your local machine. You can access the app by navigating to `http://localhost` in your web browser.

## Deployment

**Tag the image**
```bash
docker tag hawthorne-notifications-frontend:latest us-west1-docker.pkg.dev/hawthorne-notifications/hawthorne-notifications-repo/hawthorne-notifications-frontend:latest
```

**Push the image**
```bash
docker push us-west1-docker.pkg.dev/hawthorne-notifications/hawthorne-notifications-repo/hawthorne-notifications-frontend:latest
```

## Troubleshooting

### CORS Issues

If you encounter CORS issues when making API requests, ensure that your backend server is configured to allow cross-origin requests from your React app's domain.

### Environment Variables Not Working

Ensure that the environment variables are correctly defined in your `.env` file or passed during the Docker container runtime.

## Contributing

Feel free to fork this repository and contribute by submitting a pull request. Please ensure that your code follows best practices and is well-documented.

## License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

## Acknowledgements

- [React](https://reactjs.org/)
- [Docker](https://www.docker.com/)
- [NGINX](https://www.nginx.com/)
